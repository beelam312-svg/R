<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å·¥ç¨‹è®¡ç®—å™¨</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 2.5em;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        
        .calculator-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .calculator {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .calculator:hover {
            transform: translateY(-5px);
        }
        
        h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
            display: flex;
            align-items: center;
        }
        
        h2 i {
            margin-right: 10px;
            color: #3498db;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        button {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 15px 25px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .result {
            background: linear-gradient(135deg, #e8f4fc, #bbdefb);
            padding: 20px;
            border-radius: 10px;
            margin-top: 25px;
            border-left: 5px solid #2196f3;
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding: 12px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .result-label {
            font-weight: bold;
            color: #2c3e50;
        }
        
        .result-value {
            font-weight: bold;
            color: #e74c3c;
            font-size: 1.1em;
        }
        
        @media (max-width: 768px) {
            .calculator-container {
                grid-template-columns: 1fr;
            }
        }
        
        .instructions {
            background: #fff9e6;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #f39c12;
        }
        
        .program-code {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin-top: 15px;
            font-size: 0.9em;
            line-height: 1.5;
            overflow-x: auto;
        }
        
        .history {
            margin-top: 20px;
            max-height: 150px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            background: #f9f9f9;
        }
        
        .history-item {
            padding: 8px;
            border-bottom: 1px solid #eee;
            font-size: 0.9em;
        }
        
        .history-item:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>å·¥ç¨‹è®¡ç®—å™¨</h1>
            <p class="subtitle">åŸºäºè®¡ç®—å™¨ç¨‹åºçš„ç½‘é¡µå®ç°</p>
        </header>
        
        <div class="instructions">
            <h3>ä½¿ç”¨è¯´æ˜</h3>
            <p>é€‰æ‹©ä¸åŒçš„è®¡ç®—ç¨‹åºï¼Œè¾“å…¥ç›¸åº”å‚æ•°ï¼Œç‚¹å‡»è®¡ç®—æŒ‰é’®è·å–ç»“æœã€‚æ¯ä¸ªç¨‹åºéƒ½æœ‰å¯¹åº”çš„åŸå§‹ä»£ç æ˜¾ç¤ºã€‚</p>
        </div>
        
        <div class="calculator-container">
            <!-- ç¨‹åº1ï¼šåæ ‡è®¡ç®— -->
            <div class="calculator">
                <h2><i>ğŸ“</i> ç¨‹åº1ï¼šåæ ‡è®¡ç®—</h2>
                
                <div class="program-code">
                    Prog 1 : ? â†’ A : ? â†’ C : Lbl 1 : ? â†’ B : ? â†’ D : Rec (D, B) + A â†’ X : Rec (D, B) + C â†’ Y : Goto 1
                </div>
                
                <div class="input-group">
                    <label for="a1">åŸºå‡†ç‚¹ X åæ ‡ (A):</label>
                    <input type="number" id="a1" value="0" step="0.001">
                </div>
                
                <div class="input-group">
                    <label for="c1">åŸºå‡†ç‚¹ Y åæ ‡ (C):</label>
                    <input type="number" id="c1" value="0" step="0.001">
                </div>
                
                <div class="input-group">
                    <label for="b1">è§’åº¦ B (åº¦):</label>
                    <input type="number" id="b1" value="0" step="0.001">
                </div>
                
                <div class="input-group">
                    <label for="d1">è·ç¦» D:</label>
                    <input type="number" id="d1" value="0" step="0.001">
                </div>
                
                <button id="calculate1">è®¡ç®—åæ ‡</button>
                
                <div class="result">
                    <h3>è®¡ç®—ç»“æœ</h3>
                    <div class="result-item">
                        <span class="result-label">X åæ ‡:</span>
                        <span id="resultX1" class="result-value">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Y åæ ‡:</span>
                        <span id="resultY1" class="result-value">-</span>
                    </div>
                </div>
                
                <div class="history" id="history1">
                    <div class="history-item">å†å²è®°å½•å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
                </div>
            </div>
            
            <!-- ç¨‹åº2ï¼šç›´å°ºè®¡ç®— -->
            <div class="calculator">
                <h2><i>ğŸ“</i> ç¨‹åº2ï¼šç›´å°ºè®¡ç®—</h2>
                
                <div class="program-code">
                    Prog 2 : ? â†’ A : ? â†’ C : Lbl 1 : ? â†’ Y : ? â†’ X : Pol( C-A-Y , (C-X) ) â†’ D : Y + 180 â†’ B : Goto 1
                </div>
                
                <div class="input-group">
                    <label for="a2">å‚æ•° A:</label>
                    <input type="number" id="a2" value="0" step="0.001">
                </div>
                
                <div class="input-group">
                    <label for="c2">å‚æ•° C:</label>
                    <input type="number" id="c2" value="0" step="0.001">
                </div>
                
                <div class="input-group">
                    <label for="y2">å‚æ•° Y:</label>
                    <input type="number" id="y2" value="0" step="0.001">
                </div>
                
                <div class="input-group">
                    <label for="x2">å‚æ•° X:</label>
                    <input type="number" id="x2" value="0" step="0.001">
                </div>
                
                <button id="calculate2">ç›´å°ºè®¡ç®—</button>
                
                <div class="result">
                    <h3>è®¡ç®—ç»“æœ</h3>
                    <div class="result-item">
                        <span class="result-label">è·ç¦» D:</span>
                        <span id="resultD2" class="result-value">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">è§’åº¦ B:</span>
                        <span id="resultB2" class="result-value">-</span>
                    </div>
                </div>
                
                <div class="history" id="history2">
                    <div class="history-item">å†å²è®°å½•å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
                </div>
            </div>
            
            <!-- ç¨‹åº3ï¼šä¸­æ‹±è®¡ç®— -->
            <div class="calculator">
                <h2><i>ğŸ—ï¸</i> ç¨‹åº3ï¼šä¸­æ‹±è®¡ç®—</h2>
                
                <div class="program-code">
                    Prog 3 : ? â†’ A : ? â†’ D : D Ã· 2 â†’ B : âˆš(AÂ² - BÂ²) â†’ C : A - C â†’ H : Lbl 1 : ? â†’ X : âˆš(AÂ² - XÂ²) - C â†’ Y : Goto 1
                </div>
                
                <div class="input-group">
                    <label for="a3">åŠå¾„ A:</label>
                    <input type="number" id="a3" value="0" step="0.001">
                </div>
                
                <div class="input-group">
                    <label for="d3">å¼¦é•¿ D:</label>
                    <input type="number" id="d3" value="0" step="0.001">
                </div>
                
                <div class="input-group">
                    <label for="x3">è·ç¦» X:</label>
                    <input type="number" id="x3" value="0" step="0.001">
                </div>
                
                <button id="calculate3">ä¸­æ‹±è®¡ç®—</button>
                
                <div class="result">
                    <h3>è®¡ç®—ç»“æœ</h3>
                    <div class="result-item">
                        <span class="result-label">åŠå¼¦é•¿ B:</span>
                        <span id="resultB3" class="result-value">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">åœ†å¿ƒåˆ°å¼¦è·ç¦» C:</span>
                        <span id="resultC3" class="result-value">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">æ‹±é«˜ H:</span>
                        <span id="resultH3" class="result-value">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">é«˜åº¦ Y:</span>
                        <span id="resultY3" class="result-value">-</span>
                    </div>
                </div>
                
                <div class="history" id="history3">
                    <div class="history-item">å†å²è®°å½•å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
                </div>
            </div>
            
            <!-- ç¨‹åº4ï¼šçŸ­æ‹±è®¡ç®— -->
            <div class="calculator">
                <h2><i>ğŸ›ï¸</i> ç¨‹åº4ï¼šçŸ­æ‹±è®¡ç®—</h2>
                
                <div class="program-code">
                    Prog 4 : ? â†’ A : ? â†’ D : D Ã· 2 â†’ B : âˆš(AÂ² - BÂ²) â†’ C : A - C â†’ H : Lbl 1 : ? â†’ X : âˆš(AÂ² - (B - X)Â²) â†’ Y : Y - C â†’ H2 : Goto 1
                </div>
                
                <div class="input-group">
                    <label for="a4">åŠå¾„ A:</label>
                    <input type="number" id="a4" value="0" step="0.001">
                </div>
                
                <div class="input-group">
                    <label for="d4">å¼¦é•¿ D:</label>
                    <input type="number" id="d4" value="0" step="0.001">
                </div>
                
                <div class="input-group">
                    <label for="x4">è·ç¦» X:</label>
                    <input type="number" id="x4" value="0" step="0.001">
                </div>
                
                <button id="calculate4">çŸ­æ‹±è®¡ç®—</button>
                
                <div class="result">
                    <h3>è®¡ç®—ç»“æœ</h3>
                    <div class="result-item">
                        <span class="result-label">åŠå¼¦é•¿ B:</span>
                        <span id="resultB4" class="result-value">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">åœ†å¿ƒåˆ°å¼¦è·ç¦» C:</span>
                        <span id="resultC4" class="result-value">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">æ‹±é«˜ H:</span>
                        <span id="resultH4" class="result-value">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">é«˜åº¦ Y:</span>
                        <span id="resultY4" class="result-value">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">çŸ­æ‹±é«˜ H2:</span>
                        <span id="resultH24" class="result-value">-</span>
                    </div>
                </div>
                
                <div class="history" id="history4">
                    <div class="history-item">å†å²è®°å½•å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ç¨‹åº1ï¼šåæ ‡è®¡ç®—
        document.getElementById('calculate1').addEventListener('click', function() {
            const A = parseFloat(document.getElementById('a1').value) || 0;
            const C = parseFloat(document.getElementById('c1').value) || 0;
            const B = parseFloat(document.getElementById('b1').value) || 0;
            const D = parseFloat(document.getElementById('d1').value) || 0;
            
            // å°†è§’åº¦è½¬æ¢ä¸ºå¼§åº¦
            const rad = B * Math.PI / 180;
            
            // è®¡ç®—åæ ‡
            const X = D * Math.cos(rad) + A;
            const Y = D * Math.sin(rad) + C;
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('resultX1').textContent = X.toFixed(3);
            document.getElementById('resultY1').textContent = Y.toFixed(3);
            
            // æ·»åŠ åˆ°å†å²è®°å½•
            addHistory('history1', A=${A}, C=${C}, B=${B}Â°, D=${D} â†’ X=${X.toFixed(3)}, Y=${Y.toFixed(3)});
        });
        
        // ç¨‹åº2ï¼šç›´å°ºè®¡ç®—
        document.getElementById('calculate2').addEventListener('click', function() {
            const A = parseFloat(document.getElementById('a2').value) || 0;
            const C = parseFloat(document.getElementById('c2').value) || 0;
            const Y = parseFloat(document.getElementById('y2').value) || 0;
            const X = parseFloat(document.getElementById('x2').value) || 0;
            
            // è®¡ç®—è·ç¦»å’Œè§’åº¦
            const dx = C - A - Y;
            const dy = C - X;
            const D = Math.sqrt(dx*dx + dy*dy);
            let B = Math.atan2(dy, dx) * 180 / Math.PI;
            
            // è§’åº¦è°ƒæ•´
            B = Y + 180;
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('resultD2').textContent = D.toFixed(3);
            document.getElementById('resultB2').textContent = B.toFixed(3) + 'Â°';
            
            // æ·»åŠ åˆ°å†å²è®°å½•
            addHistory('history2', A=${A}, C=${C}, Y=${Y}, X=${X} â†’ D=${D.toFixed(3)}, B=${B.toFixed(3)}Â°);
        });
        
        // ç¨‹åº3ï¼šä¸­æ‹±è®¡ç®—
        document.getElementById('calculate3').addEventListener('click', function() {
            const A = parseFloat(document.getElementById('a3').value) || 0;
            const D = parseFloat(document.getElementById('d3').value) || 0;
            const X = parseFloat(document.getElementById('x3').value) || 0;
            
            // è®¡ç®—ä¸­é—´å€¼
            const B = D / 2;
            const C = Math.sqrt(A*A - B*B);
            const H = A - C;
            const Y = Math.sqrt(A*A - X*X) - C;
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('resultB3').textContent = B.toFixed(3);
            document.getElementById('resultC3').textContent = C.toFixed(3);
            document.getElementById('resultH3').textContent = H.toFixed(3);
            document.getElementById('resultY3').textContent = Y.toFixed(3);
            
            // æ·»åŠ åˆ°å†å²è®°å½•
            addHistory('history3', A=${A}, D=${D}, X=${X} â†’ B=${B.toFixed(3)}, C=${C.toFixed(3)}, H=${H.toFixed(3)}, Y=${Y.toFixed(3)});
        });
        
        // ç¨‹åº4ï¼šçŸ­æ‹±è®¡ç®—
        document.getElementById('calculate4').addEventListener('click', function() {
            const A = parseFloat(document.getElementById('a4').value) || 0;
            const D = parseFloat(document.getElementById('d4').value) || 0;
            const X = parseFloat(document.getElementById('x4').value) || 0;
            
            // è®¡ç®—ä¸­é—´å€¼
            const B = D / 2;
            const C = Math.sqrt(A*A - B*B);
            const H = A - C;
            const Y = Math.sqrt(A*A - Math.pow(B - X, 2));
            const H2 = Y - C;
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('resultB4').textContent = B.toFixed(3);
            document.getElementById('resultC4').textContent = C.toFixed(3);
            document.getElementById('resultH4').textContent = H.toFixed(3);
            document.getElementById('resultY4').textContent = Y.toFixed(3);
            document.getElementById('resultH24').textContent = H2.toFixed(3);
            
            // æ·»åŠ åˆ°å†å²è®°å½•
            addHistory('history4', A=${A}, D=${D}, X=${X} â†’ B=${B.toFixed(3)}, C=${C.toFixed(3)}, H=${H.toFixed(3)}, Y=${Y.toFixed(3)}, H2=${H2.toFixed(3)});
        });
        
        // æ·»åŠ å†å²è®°å½•å‡½æ•°
        function addHistory(historyId, text) {
            const historyElement = document.getElementById(historyId);
            const historyItem = document.createElement('div');
            historyItem.className = 'history-item';
            historyItem.textContent = text;
            
            // å¦‚æœç¬¬ä¸€æ¡æ˜¯é»˜è®¤æ–‡æœ¬ï¼Œåˆ™æ›¿æ¢å®ƒ
            if (historyElement.firstChild.textContent === 'å†å²è®°å½•å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ') {
                historyElement.innerHTML = '';
            }
            
            historyElement.insertBefore(historyItem, historyElement.firstChild);
            
            // é™åˆ¶å†å²è®°å½•æ•°é‡
            if (historyElement.children.length > 5) {
                historyElement.removeChild(historyElement.lastChild);
            }
        }
        
        // åˆå§‹è®¡ç®—
        document.getElementById('calculate1').click();
        document.getElementById('calculate2').click();
        document.getElementById('calculate3').click();
        document.getElementById('calculate4').click();
    </script>
</body>
</html>
